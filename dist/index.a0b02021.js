document.querySelector(".container"),document.querySelector("#map"),document.querySelector(".button");const t=document.querySelector(".button-1"),e=document.querySelector(".button-2"),o=document.querySelector(".button-3"),n=document.querySelector(".button-5"),s=document.querySelector(".button-6"),r=document.querySelector(".left__search--input"),i=document.querySelector(".left__search--button"),c=document.querySelectorAll("[data-button]"),a=document.querySelector(".left__country"),l=document.querySelector(".left__box"),d=document.querySelector(".right__weather"),u=document.querySelector(".right__information"),m=document.querySelector(".left__logo--icon"),y=document.querySelector(".right__weather--icon"),h=(document.querySelector(".weather-type"),document.querySelector(".right__weather--temperature"));let p,f,g;const v=function(){f.eachLayer((function(t){f.removeLayer(t)})),t.classList.contains("hidden-button")&&L.tileLayer("https://{s}.tile.openstreetmap.jp/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f),e.classList.contains("hidden-button")&&L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}).addTo(f),b(f.getCenter().lat,f.getCenter().lng,!1)},b=function(t,e,o=!0){p&&f.removeLayer(p),p=L.marker([t,e]).addTo(f),o&&f.flyTo([t,e]),S(t,e),E(t,e)},w=async function(t){try{const e=await fetch(`https://nominatim.openstreetmap.org/search?q=${t}&format=json&limit=1`);if(!e.ok)throw new Error(`Problem with geocoding ${e.status}`);const o=await e.json();if(0===o.length)throw a.innerHTML="Location not found! Please try again with a different search term or check the spelling.",new Error("Location not found!");const n=o[0].lat,s=o[0].lon,r=o[0].importance;"tourism"===o[0].class||"road"===o[0].class||"amenity"===o[0].class?f.setZoom(18):r>.85?f.setZoom(5):r>.8?f.setZoom(8):r>.7?f.setZoom(14):r>.6?f.setZoom(15):r>.5?f.setZoom(16):r>.4?f.setZoom(17):f.setZoom(18),b(n,s)}catch(t){console.error(t)}},E=async function(t,e){try{const o=await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${t}&lon=${e}&zoom=${f._zoom}`);if(!o.ok)throw alert(`${o.status} Too many requests`),new Error(`${o.status} Too many requests`);const n=await o.json(),s=`${n.display_name}`;if(a.innerHTML=s,n.error)throw a.innerHTML="Location not found! Please try again with a different search term or check the spelling.",new Error("Location not found!");"tourism"===n.class&&f.setZoom(18)}catch(t){console.error(t)}},S=async function(t,e){try{const o=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=2dad590f3f45d847cf92171de9848662&units=metric`);o.ok||(y.innerHTML="Weather not found!",h.textContent="ERROR");const n=await o.json(),s=n.weather[0].main,r=n.main.temp;h.textContent=`${r}Â°C`;const i=`\n    <svg class="weather-icon">\n       <use xlink:href="img/symbol-defs.svg#icon-${s}"></use>\n    </svg>\n    <div class="weather-type">${s}</div>`;y.innerHTML=i}catch(t){console.error(t)}};navigator.geolocation.getCurrentPosition((t=>{const e=t.coords.latitude,o=t.coords.longitude;f=L.map("map",{center:[e,o],zoom:16,inertia:!0,inertiaDeceleration:2e3,minZoom:2}),f.setMaxBounds([[-180,-360],[180,360]]),v(),b(e,o,!1),f.on("click",(function(t){const e=t.latlng.lat,o=t.latlng.lng;b(e,o),E(e,o)}))}),(t=>{const e=`${t.message}! Allow location to continue`;alert(e),console.error(t)})),i.addEventListener("click",(function(t){g=r.value,w(g)})),r.addEventListener("keypress",(function(t){"Enter"===t.key&&(g=r.value,w(g))})),n.addEventListener("click",(function(r){n.classList.add("hidden-button-2"),s.classList.remove("hidden-button-2"),t.style.cursor="pointer",t.style.pointerEvents="auto",t.style.opacity="1",e.style.cursor="pointer",e.style.pointerEvents="auto",e.style.opacity="1",o.style.cursor="pointer",o.style.pointerEvents="auto",o.style.opacity="1",v(),f.setZoom(16),f.setMinZoom(2)})),s.addEventListener("click",(function(r){s.classList.add("hidden-button-2"),n.classList.remove("hidden-button-2"),t.classList.remove("hidden-button"),e.classList.add("hidden-button"),t.style.pointerEvents="none",t.style.opacity="0.4",e.style.pointerEvents="none",e.style.opacity="0.4",o.style.pointerEvents="none",o.style.opacity="0.4",o.classList.remove("hidden-button"),u.classList.add("hidden"),d.classList.add("hidden"),l.style.cursor="no-drop",v(),f.setZoom(18),f.setMinZoom(15)})),t.addEventListener("click",(function(o){t.classList.add("hidden-button"),e.classList.remove("hidden-button"),v()})),e.addEventListener("click",(function(o){e.classList.add("hidden-button"),t.classList.remove("hidden-button"),v()})),o.addEventListener("click",(function(t){d.classList.toggle("hidden")})),c.forEach((t=>{t.classList.contains("button-1")||t.classList.contains("button-2")||t.classList.contains("button-5")||t.classList.contains("button-6")||t.addEventListener("click",(function(e){t.classList.toggle("hidden-button")}))})),m.addEventListener("click",(function(t){window.open("https://www.github.com/Sls0n/mapsi","_blank")})),a.addEventListener("click",(function(t){f.flyTo(p.getLatLng(),f._zoom,{duration:1})}));
//# sourceMappingURL=index.a0b02021.js.map
